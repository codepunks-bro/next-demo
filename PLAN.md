## Цель проекта

Построить демонстрационное приложение на Next.js 16 и React 19, которое позволит прожить полный сценарий «живой» продуктовой витрины и последовательно показать все ключевые нововведения платформ. Важно, чтобы каждое улучшение было показано в реальном контексте: со стороны UX, DX, производительности и DevOps.

## Концепция витрины

- Тематика: «Next Travel Lab» — платформа бронирования и персонализированных рекомендаций путешествий с модулем AI-помощника.
- Формат: односторонняя пользовательская история с админкой, API-интеграциями и интерактивными демо-страницами.
- Структура разделов:
  - `Landing`: маркетинговая страница с интерактивными блоками и прогрессивной загрузкой.
  - `Experiences`: каталог направлений с фильтрами, отзывами и динамическими данными.
  - `AI Concierge`: чат c AI-помощником, работающим через серверные actions и edge runtime.
  - `Admin Suite`: панель управления контентом и бронированиями для демонстрации инструментов разработчика.
  - `Tech Playground`: страница с интерактивными «живыми» примерами новых API.

## Карта фич Next.js 16

| Фича | Что показываем | Где реализуем | Наблюдаемый эффект |
| --- | --- | --- | --- |
| Partial Prerendering (PPR) & Streaming Layouts | «Скелетон» верхнего блока лендинга, догрузка персональных рекомендаций после hydrate | `Landing` и `Experiences` | Улучшение TTFB и UX при медленных сетях |
| App Router: параллельные/перехватывающие маршруты | Переключение табов каталога без потери контекста, превью маршрутов в сайдбаре | `Experiences` | Плавная навигация, отсутствие флика |
| React Server Actions (GA) | Формы бронирований и чат-запросы работают без традиционного API-слоя | `AI Concierge`, `Admin Suite` | Упрощение бэкенда, мгновенные обновления |
| Кэширование/тегированная инвалидация | Обновление отзывов и тарифов по тегам через `revalidateTag` | `Experiences` | Контролируемая свежесть данных |
| Route Handlers & Edge Runtime | Аб-тест и геотаргетинг лендинга, git-like webhooks | `Landing` middleware, `Tech Playground` | Демонстрация low-latency сценариев |
| Client Navigation & Prefetch Control | Тонкая настройка `prefetch`, `viewport` и `hover` | `Landing` | Контроль трафика и responsiveness |
| Turbopack Prod Mode | Сборка и hot refresh во время лайв-демо | DevOps скрипты | Улучшение DX и времени обновления |
| Image Optimization v3 & Fonts | Адаптивные изображения для каталога, variable шрифты | `Experiences`, `Landing` | Лучшая LCP и визуальная стабильность |
| instrumentation & tracing | OpenTelemetry трассировка edge-запросов | `AI Concierge` | Видимость производительности |

## Карта фич React 19

| Фича | Демонстрация | Контекст использования |
| --- | --- | --- |
| Actions API: `useActionState`, `useFormStatus` | Формы бронирования, чат-команды | UX без ручной обработки loading/error |
| Новый хук `use()` | Декларативное ожидание AI-ответов и внешних fetch | Совмещение stream + suspense |
| Server Components (Stable) | Каталог направлений, рекомендации AI | Разделение кода, отсутствие клиента на сервере |
| Новые Transitions & `startViewTransition` интеграция | Анимации переключения вкладок каталога | Чистые анимации без сложных хаков |
| Оптимизированный `assetLoading` и Web Components | Интеграция 3rd-party карты как Web Component | Унификация DX вокруг ресурсов |
| React Compiler Preview (по возможности) | Раздел «Tech Playground» с включённой оптимизацией | Показ выигрыша в производительности |

> Примечание: перечень опирается на предварительные анонсы Next.js 16/React 19. Перед реализацией важно свериться с актуальными релизными заметками и адаптировать демо к финальным API.

## Архитектура приложения

- App Router + TypeScript + ESLint/Prettier.
- Слои:
  - `app/` — маршруты, layout’ы, server/client-компоненты.
  - `lib/` — clients для внешних API (авиа, погода, AI).
  - `server/` — actions, route handlers, instrumentation.
  - `components/` — UI-kit на server/client компонентах.
  - `data/` — статические примеры и seed-скрипты.
- Инфраструктура:
  - Версия Node >= 20 для совместимости с новыми runtime.
  - Edge runtime для критичных маршрутов, Node runtime — для admin и batch задач.
  - Настройка feature flag’ов (env-based) для включения/выключения демо.

## План реализации

1. **Аналитика и подготовка**
   - Подтвердить финальный список фич из changelog’ов Next.js 16 и React 19.
   - Собрать референсы UX и подготовить дизайн-концепцию (Figma).
   - Подготовить макет данных и API-заглушки.
2. **Инфраструктурный фундамент**
   - Обновить зависимости до Next.js 16, React 19, настроить Turbopack в dev/prod.
   - Настроить ESLint/Prettier, Husky, тестовые раннеры (Vitest/Playwright).
   - Подготовить CI pipeline (GitHub Actions) с edge-прогоном.
3. **Каркас приложения**
   - Сконфигурировать общие layout’ы и metadata API.
   - Реализовать глобальные стили (Tailwind/vanilla-extract) и типографику.
   - Настроить state management (React Context + Server Actions).
4. **Функциональные модули**
   - Landing: PPR, паралельные маршруты, A/B через middleware.
   - Experiences: каталог с фильтрами, streaming, Suspense + use() + серверные компоненты.
   - AI Concierge: чат, server actions, edge runtime, instrumentation.
   - Admin Suite: CRUD через actions, optimistic UI с useActionState.
   - Tech Playground: интерактивные примеры React 19 API, переключатели флагов.
5. **Data & интеграции**
   - Подключить внешние API (mock → live), настроить caching, revalidateTag.
   - Реализовать webhooks и background tasks (route handlers, scheduling).
6. **Оптимизации и демонстрационный контент**
   - Настроить Next Analytics, Lighthouse CI, RUM-метрики.
   - Подготовить скрипты/слайды для лайв-демо, зафиксировать сценарии.
   - Записать видео/скринкасты, подготовить README, FAQ.
7. **Тестирование и релиз**
   - Покрыть критические фичи компонентными/интеграционными тестами.
   - Провести edge/production smoke, проверить трейсинг.
   - Финальный walkthrough и публикация демо на Vercel/Edge-платформе.

## План презентации

- **Live Demo**: 15–20 минут, сценарий «Пользователь → AI → Админ».
- **DX Showcase**: быстрый цикл изменения кода с Turbopack и hot reload.
- **Tech Deep Dive**: объяснение каждого участка кода (Server Actions, caching, instrumentation).
- **Q&A / Appendix**: дополнительные материалы, ссылки на документацию, список ограничений и фич в бете.

## Результаты и метрики

- LCP < 1.8s на лендинге, TTFB < 200ms на edge-маршрутах.
- Покрытие тестами ключевых сценариев ≥ 70%.
- Наличие записанного walkthrough и README с инструкциями запуска.


